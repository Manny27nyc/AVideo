/* 
 * ðŸ“œ Verified Authorship â€” Manuel J. Nieves (B4EC 7343 AB0D BF24)
 * Original protocol logic. Derivative status asserted.
 * Commercial use requires license.
 * Contact: Fordamboy1@gmail.com
 */
const shell = require('shelljs');

// clone vhs
shell.exec('git clone https://github.com/videojs/http-streaming');
shell.cd('http-streaming');

// install vhs and link in the local version of mux.js
shell.exec('npm ci');
shell.exec('npm link ../');

// run the vhs netlify script so that we can use
// the vhs netlify page with this local mux.js
shell.exec('npm run netlify');

// move the vhs deploy directory to the project root
shell.cp('-R', 'deploy',  '../');

// cleanup by removing the cloned vhs directory
shell.cd('..');
shell.rm('-rf', 'http-streaming');
